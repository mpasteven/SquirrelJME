apply plugin: 'idea'
apply plugin: 'cc.squirreljme.plugin.general'

group = "cc.squirreljme"
description = "SquirrelJME is a Java ME 8 Virtual Machine for embedded " +
	"and Internet of Things devices. It has the ultimate goal of being " +
	"99.9% compatible with the Java ME standard."
version = squirreljmeVersion

// IntelliJ Configuration (because the root project is a bit different)
idea
{
	module
	{
		// Use the proper name for this module
		name = "SquirrelJME"

		// Exclude these directories so IntelliJ does not pick these up
		// in inspections and builds
		excludeDirs += file(".circleci")
		excludeDirs += file(".fossil-settings")
		excludeDirs += file(".github")
		excludeDirs += file(".idea")
		excludeDirs += file(".vscode")
		excludeDirs += file("assets")
		excludeDirs += file("config")
		excludeDirs += file("gradle")
		excludeDirs += file("utils-dev")
		
		// These are auto-generated by Fossil and should be ignored
		excludeDirs += file("manifest")
		excludeDirs += file("manifest.uuid")
		
		// IntelliJ's own dependency matrix output (in "out")
		project.allprojects.each() { Project subProj ->
			excludeDirs += subProj.projectDir.toPath().resolve("out").toFile()
		}
	}
}

allprojects
{
	repositories
	{
		mavenCentral()
		jcenter()
	}
}
